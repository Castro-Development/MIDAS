

<div class="main-container">

  <div class="title-header">
    <h2 class="section-header-global">Expired Passwords</h2>
  </div>
  <div class="header">
    <button class="button return" routerLink="/admin-dashboard"><mat-icon class="mat-icon">arrow_back</mat-icon> Return to Admin Dashboard</button>
    <button class="button create-user" *ngIf="common.isAdmin$">Send Out Notifications</button>

  </div>

    <table>
      <thead>
        <tr>
          <th>User ID</th>

          <th>First Name</th>
          <th>Last Name</th>
          <th>Password</th>
          <th>Password Status</th>
          <th>Password Expiration Date</th>
          <th>Days Left</th>
          <!-- <th>Update Password</th> -->

          <th>Resend Password Notification</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users$ | async; let i = index">
          <td>{{user.id}}</td>
          <td>{{user.firstname}}</td>
          <td>{{user.lastname}}</td>
          <td>{{user.password}}</td>
          <td *ngIf="isExpired(user)"><span class="unbalanced">Expired</span></td>
          <td *ngIf="!isExpired(user)"><span class="balanced">Current</span></td>

          <td>{{user.lastPWUpdate}}</td>
          <td>{{30 - calculateDiff(user.lastPWUpdate)}}</td>
          <!-- <td><mat-icon>edit</mat-icon></td> -->
          <td  *ngIf="common.isAdmin$"><button class="edit" (click)="notifyUser(user)">{{user.username}}</button></td>
          <td *ngIf="!common.isAdmin$"><button class="edit"><mat-icon>block</mat-icon> {{user.username}}</button></td>
        </tr>
      </tbody>
    </table>
  </div>






